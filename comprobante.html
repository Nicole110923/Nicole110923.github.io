<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Comprobante de Compra - N'C BOOKS</title>
  <link rel="stylesheet" href="comprobante.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="comprobante">
    <h2>Comprobante de Compra</h2>
    <p><strong>Nombre:</strong> <span id="nombre-cliente"></span></p>
    <p><strong>Direcci√≥n:</strong> <span id="direccion-cliente"></span></p>
    <p><strong>Fecha:</strong> <span id="fecha-compra"></span></p>

    <h3>Productos:</h3>
    <div id="lista-productos"></div>

    <h3>Total: $<span id="total-compra"></span></h3>

    <button class="btn-volver" onclick="volverAlInicio()">Volver al inicio</button>
  </div>

  <script>
    const comprobante = JSON.parse(localStorage.getItem('comprobante'));

    if (!comprobante) {
      document.body.innerHTML = "<p>No hay datos de compra disponibles.</p>";
    } else {
      document.getElementById('nombre-cliente').textContent = comprobante.nombre;
      document.getElementById('direccion-cliente').textContent = comprobante.direccion;
      document.getElementById('fecha-compra').textContent = comprobante.fecha;
      document.getElementById('total-compra').textContent = comprobante.total;

      const lista = document.getElementById('lista-productos');
      comprobante.items.forEach(item => {
        const div = document.createElement('div');
        div.classList.add('item');
        div.innerHTML = `
          <strong>${item.titulo}</strong><br>
          Cantidad: ${item.cantidad} &nbsp;&nbsp;
          Subtotal: $${(item.precio * item.cantidad).toFixed(2)}
        `;
        lista.appendChild(div);
      });
    }

    function volverAlInicio() {
      localStorage.removeItem('comprobante');
      window.location.href = 'index.html';
    }
  </script>
</body>
</html>
